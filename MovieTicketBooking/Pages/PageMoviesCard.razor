@page "/movie-card"
@inject PageChangeStateContainer StateContainer

 <section class="movie-section padding-top padding-bottom bg-two">
    <div class="container">
        <div class="row flex-wrap-reverse justify-content-center">
            <div class="col-lg-9">
                <div class="article-section padding-bottom">
                    <div class="section-header-1">
                        <h2 class="title">movies</h2>
                        <a class="view-all" href="javascript:void(0);">View All></a>
                    </div>
                    <div class="row mb-30-none justify-content-start">
                        @if(_movieList.Count>0)
                        {
                            foreach(var movie in _movieList)
                            {
                                var image = $"/movie-cover/{movie.MoviePhoto}";
                                <div class="col-sm-6 col-lg-4">
                                    <div class="movie-grid">
                                        <a href="javascript:void(0);">
                                            <img src="@image" style="height:400px;" alt="movie">
                                            
                                        </a>
                                    </div>
                                    <div class="movie-content bg-one">
                                        <h5 class="title m-0">
                                            <a href="#0">@movie.MovieTitle</a>
                                        </h5>
                                        <ul class="mb-2">
                                            <li>
                                                <span class="content">Release Date - @(movie.ReleaseDate.ToString("MMM-dd-yyyy"))</span>
                                            </li>
                                            <li>
                                                <span class="content">Duration - @(movie.Duration) Hr</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                            }
                        }
                        else
                        {
                            <div class="col-sm-6 col-lg-4">
                                <p>Movie Not Found</p>
                            </div>
                            
                        }
                    </div>
                    @if(_movieList is not null && _movieList.Count>0)
                    {
                        <div class="d-flex flex-column align-center">
                            <MudPagination Size="Size.Medium" Variant="Variant.Filled" Color="Color.Primary"
                                           SelectedChanged="PageChanged"
                                           Count="@_pageCount" Class="my-4" />
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
</section> 